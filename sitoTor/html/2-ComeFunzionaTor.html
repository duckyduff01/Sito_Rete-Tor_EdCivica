<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Rete Tor / Funzionamento di tor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/codemirror.min.css">
    <style>
      .CodeMirror {
            height: auto;
            border: 1px solid #ddd;
            background-color: #2e2e2e; /* Sfondo scuro */
            color: #ffffff; /* Testo bianco */
        }
        .CodeMirror-gutters {
            background-color: #2e2e2e; /* Sfondo scuro per i numeri di riga */
            color: #888; /* Colore dei numeri di riga */
        }
        body{
          background-image: url("/SitoTor/img/background.jpg");
          background-attachment: fixed;
          background-repeat: no-repeat; 
          background-size: cover;
          background-position: center; 
        }
        .indice{
        margin-left: 100px;
        font-family: Arial, sans-serif;
      }
      .macro-argomento{
        font-size: 20px;
        margin-top: 10px;
      }
      .argomento{
        margin-left: 10px;
      }
	  </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary-secondary justify-content-center">
      <ul class="nav nav-underline" style="margin-top: 5px; margin-bottom: 10px;">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="index.html" style="letter-spacing: 1px; color: white; font-size: 20px;">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="1-CheCos'èTor.html" style="letter-spacing: 1px; color: white; font-size: 20px;">Cos'è Tor?</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="2-ComeFunzionaTor.html" style="letter-spacing: 1px; color: white; font-size: 20px;">Come funziona Tor?</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="3-CriticitàDiTor.html" style="letter-spacing: 1px; color: white; font-size: 20px;">Criticità di Tor</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="4-DeepWeb.html" style="letter-spacing: 1px; color: white; font-size: 20px;">Il Deep Web</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="5-fonti.html" style="letter-spacing: 1px; color: white; font-size: 20px;">Fonti</a>
        </li> 
      </ul>
    </nav>

    <div class="container" style="background-color: rgb(92, 46, 134); border-radius: 20px;">
      <br />
      <p style="text-align: center; text-shadow: 2px 2px 4px #000000; color: rgb(230, 221, 221); font-family: Verdana; font-size: 40px; letter-spacing: 2px;">
        Tor operation<br /> 
      </p>

      <div class="text-left container-fluid bg-purple text-white mt-5 mb-3  rounded-4" style=" box-shadow: 10px 20px 20px rgba(0, 0, 0, 0.7); background-color: rgb(34,1,58);">
        <hr>
        <ul style="font-size: 18px;">
          <p> <mark>Tor</mark> funziona attraverso una rete di relè che instradano il traffico degli utenti in modo da garantire l'anonimato.
             Un client Tor si connette a un <i><u>Entry Guard</i></u> (guardia d'ingresso), che è il primo nodo, seguito da <i><u>Middleman routers</i></u> (nodi intermedi) e infine da un <i><u>Exit Router</i></u> (nodo di uscita) che invia il traffico al web esterno.
              I <i><u>Bridge routers</i></u> sono invece utilizzati per bypassare la censura in aree dove Tor è bloccato. </p>
        </ul>
      </div>
      <img src="/SitoTor/img/funzionamento_tor.jpg" width="800" height="315" class="img-fluid mx-auto d-block" style="border-radius: 20px; box-shadow: 10px 20px 20px rgba(0, 0, 0, 0.7);">   
      <br />
      <br />

      <div class="row">            <!-- CLIENT --> 
        <div class="col-md-4">
          <div class=" container-fluid bg-purple text-white  p-4 mb-3  rounded-4" style=" box-shadow: 10px 20px 20px rgba(0, 0, 0, 0.7); background-color: rgb(34,1,58);">
            <h1 class="display-6" style="text-align: center; text-shadow: 2px 2px 4px #000000; color: rgb(230, 221, 221); font-family: Verdana; font-size: 30px; letter-spacing: 1px;"><b>Client</b></h1>
            <hr>
            <ul>
              <li class="argomento">Navigazione Anonima</li>
              <li class="argomento">Rete di Nodi</li>
              <li class="argomento">Accesso a Siti .onion</li>
              <li class="argomento">Protezione contro la Censura</li>
              <li class="argomento">Supporto per Proxy</li>
            </ul>
          </div>
        </div>
        <div class="col-md-8 editor-container">
          <div class=" container-fluid bg-purple text-white  p-4 mb-3  rounded-4" style=" box-shadow: 10px 20px 20px rgba(0, 0, 0, 0.7); background-color: rgb(34,1,58);">
            <h1 class="display-6" style="text-align: center; text-shadow: 2px 2px 4px #000000; color: rgb(230, 221, 221); font-family: verdana; font-size: 20px; letter-spacing: 1px;"><b>TOR source code: Interazione entry guard</b></h1>
            <hr>
            <textarea id="code1" name="code1">
         K = K_1 | K_2 | K_3 | ...

         Where H(x,t) is HMAC_SHA256 with value x and key t
           and K_1     = H(m_expand | INT8(1) , KEY_SEED )
           and K_(i+1) = H(K_i | m_expand | INT8(i+1) , KEY_SEED )
           and m_expand is an arbitrarily chosen value,
           and INT8(i) is a octet with the value "i".
       
In RFC5869's vocabulary, this is HKDF-SHA256 with info == m_expand, salt == t_key (a constant), and IKM == secret_input (the output of the ntor handshake).
m_expand and t_key are constant parameters, whose values are stated whenever the use of KDF-RFC5869 is specified.
                  </textarea>
          </div>
        </div>
      </div>

      <div class="row">         <!--  ENTRY GUARD -->
        <div class="col-md-3">
          <div class=" container-fluid bg-purple text-white  p-4 mb-3  rounded-4" style=" box-shadow: 10px 20px 20px rgba(0, 0, 0, 0.7); background-color: rgb(34,1,58);">
            <h1 class="display-6" style="text-align: center; text-shadow: 2px 2px 4px #000000; color: rgb(230, 221, 221); font-family: Verdana; font-size: 30px; letter-spacing: 1px;"><b> Entry guard</b></h1>
            <hr>
            <ul>
              <li class="argomento">È il primo nodo a cui si connette il client Tor.</li>
              <li class="argomento">Mantiene l'anonimato dell'utente, poiché può vedere solo l'indirizzo IP dell'utente, ma non il contenuto del traffico o la destinazione finale.</li>
            </ul>
          </div>
        </div>
        <div class="col-md-9 editor-container">
          <div class=" container-fluid bg-purple text-white  p-4 mb-3  rounded-4" style=" box-shadow: 10px 20px 20px rgba(0, 0, 0, 0.7); background-color: rgb(34,1,58);">
            <h1 class="display-6" style="text-align: center; text-shadow: 2px 2px 4px #000000; color: rgb(230, 221, 221); font-family: verdana; font-size: 20px; letter-spacing: 1px;"><b>TOR source code: Interazione entry guard</b></h1>
            <hr>
            <textarea id="code2" name="code2">
- {pvar:ADDED_ON_DATE}: The date on which it was added to sampled_guards.
We set this value to a point in the past, using RAND(now, {GUARD_LIFETIME}/10).
See Appendix [RANDOM] below.
- {pvar:ADDED_BY_VERSION}: The version of Tor that added it to sampled_guards.
- {pvar:IS_LISTED}: Whether it was listed as a usable Guard in the _most recent_ consensus we have seen.
- {pvar:FIRST_UNLISTED_AT}: If IS_LISTED is false, the publication date of the earliest consensus in which this guard was listed such that we have not seen it listed in any later consensus. Otherwise "None."
We randomize this to a point in the past, based on RAND(added_at_time, {REMOVE_UNLISTED_GUARDS_AFTER} / 5)
                  </textarea>
          </div>
        </div>
      
      </div>

      <div class="row">            <!-- Middleman router --> 
        <div class="col-md-6">
          <div class=" container-fluid bg-purple text-white  p-4 mb-3  rounded-4" style=" box-shadow: 10px 20px 20px rgba(0, 0, 0, 0.7); background-color: rgb(34,1,58);">
            <h1 class="display-6" style="text-align: center; text-shadow: 2px 2px 4px #000000; color: rgb(230, 221, 221); font-family: Verdana; font-size: 30px; letter-spacing: 1px;"><b>Middleman router</b></h1>
            <hr>
              <ul>
                <li class="argomento">Questi nodi ricevono il traffico dall'Entry Guard e lo inoltrano all'Exit Router.</li>
                <li class="argomento">Non possono vedere l'indirizzo IP dell'utente né la destinazione finale, contribuendo così all'anonimato.</li>
              </ul>
          </div>
        </div>
        <div class="col-md-6">      <!-- Exit router -->
          <div class=" container-fluid bg-purple text-white  p-4 mb-3  rounded-4" style=" box-shadow: 10px 20px 20px rgba(0, 0, 0, 0.7); background-color: rgb(34,1,58);">
            <h1 class="display-6" style="text-align: center; text-shadow: 2px 2px 4px #000000; color: rgb(230, 221, 221); font-family: Verdana; font-size: 25px; letter-spacing: 1px;"><b>Exit Router</b></h1>
            <hr>
            <ul>
              <ul>
                <li class="argomento">È l'ultimo nodo nella catena e invia il traffico al sito web di destinazione.</li>
                <li class="argomento">Può vedere il contenuto del traffico non crittografato, ma non conosce l'indirizzo IP dell'utente.</li>
              </ul>
            </ul>
          </div>
        </div>
      </div>

      <div class="col-md-12">      <!-- Exit router -->
        <div class=" container-fluid bg-purple text-white  p-4 mb-3  rounded-4" style=" box-shadow: 10px 20px 20px rgba(0, 0, 0, 0.7); background-color: rgb(34,1,58);">
          <h1 class="display-6" style="text-align: center; text-shadow: 2px 2px 4px #000000; color: rgb(230, 221, 221); font-family: Verdana; font-size: 25px; letter-spacing: 1px;"><b>Bridge Router</b></h1>
          <hr>
          <ul>
            <li class="argomento">Utilizzati per aiutare gli utenti a connettersi a Tor in situazioni di censura.</li>
            <li class="argomento">Non sono elencati pubblicamente, rendendo più difficile per i censori bloccare l'accesso a Tor.</li>
          </ul>
        </div>
      </div>
    </div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.0/mode/python/python.min.js"></script>
<script>
    var editor = CodeMirror.fromTextArea(document.getElementById("code1"), {
        lineNumbers: true, // Mostra i numeri di riga
        mode: "markdown", // Modalità di evidenziazione per text file
        theme: "material-darker", // Tema scuro
        lineWrapping: true // Abilita il wrapping delle righe
    });
    var editor = CodeMirror.fromTextArea(document.getElementById("code2"), {
        lineNumbers: true, // Mostra i numeri di riga
        mode: "markdown", // Modalità di evidenziazione per Python
        theme: "material-darker", // Tema scuro
        lineWrapping: true // Abilita il wrapping delle righe
    });
</script>

  </body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</html>
